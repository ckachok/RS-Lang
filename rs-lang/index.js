/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";const t=function(){function t(t,e,n,r){void 0===e&&(e="div"),void 0===n&&(n=""),void 0===r&&(r="");var o=document.createElement(e);o.className=n,o.textContent=r,t&&t.append(o),this.node=o}return t.prototype.destroy=function(){this.node.remove()},t}(),e={home:{name:"Главная",hash:"#home",id:"home-page"},textbook:{name:"Электронный учебник",hash:"#textbook",id:"textbook-page"},audioCall:{name:"Аудиовызов",hash:"#audio-call",id:"audio-call-page"},sprint:{name:"Спринт",hash:"#sprint",id:"sprint-page"},statistics:{name:"Статистика",hash:"#statistics",id:"statistics-page"},aboutTeam:{name:"О команде",hash:"#about-team",id:"about-team-page"}};var n,r=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});const o=function(n){function o(t,r,o){var i=n.call(this,t,r,o)||this;return i.createLogo(),i.node.href=e.home.hash,i}return r(o,n),o.prototype.createLogo=function(){new t(this.node,"div","logo-app__image"),new t(this.node,"span","logo-app__text","RS Lang")},o}(t),i="Выйти",a=2e3;var s=["userName","authToken","authRefreshToken","userId"],c=function(){return{curDifficultyLevel:+localStorage.getItem("curDifficultyLevel")||0,curPageNumber:+localStorage.getItem("curPageNumber")||1,totalPageCount:30}},u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach((function(t){t.classList.add("active")}))},l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach((function(t){t.classList.remove("active")}))},h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const d=function(n){function r(t,e,r){var o=n.call(this,t,e,r)||this;return o.createHeader(),o}return h(r,n),r.prototype.createUserWelcome=function(e,n){this.welcome=new t(e,"span","user__welcome").node,n&&(this.welcome.innerHTML="Привет, "+n+"!",u(this.welcome))},r.prototype.createUserButtons=function(e){var n=new t(e,"div","user__buttons-container").node;this.authBtn=new t(n,"button","user__authorization-btn").node,this.deAuthBtn=new t(n,"button","user__deauthorization-btn",i).node},r.prototype.handleAuthBtnClick=function(t){var e=this;this.authBtn.addEventListener("click",(function(){if(t)return u(e.deAuthBtn),void setTimeout((function(){l(e.deAuthBtn)}),a);e.onAuthButton()}))},r.prototype.handleDeAuthBtnClick=function(){this.deAuthBtn.addEventListener("click",(function(){s.forEach((function(t){return localStorage.removeItem(t)})),window.location.hash=window.location.hash===e.home.hash?"#":e.home.hash}))},r.prototype.createUser=function(e,n){var r=new t(e,"div","user").node;this.createUserWelcome(r,n),this.createUserButtons(r),this.handleAuthBtnClick(n),this.handleDeAuthBtnClick()},r.prototype.showHideMenu=function(){this.burgerMenu.classList.contains("active")?l(this.burgerMenu,this.menu):u(this.burgerMenu,this.menu)},r.prototype.handleBurgerMenuClick=function(){var t=this;this.burgerMenu.addEventListener("click",(function(){t.showHideMenu(),t.onBurgerMenu()}))},r.prototype.createBurgerMenu=function(e){this.burgerMenu=new t(e,"button","burger-menu").node,new t(this.burgerMenu,"span","burger-menu__lines"),this.handleBurgerMenuClick()},r.prototype.highlightActiveMenuLink=function(t,n){var r=window.location.hash;r===t.hash?u(t):r||n.name!==e.home.name||u(t)},r.prototype.createMenuList=function(n,r){var o=this,i=new t(n,"ul","menu__list").node;Object.values(e).forEach((function(n){var a=new t(i,"li","menu__item").node,s=new t(a,"a","menu__link",n.name).node;s.href=n.hash,r&&n.name===e.statistics.name&&u(a),o.highlightActiveMenuLink(s,n)}))},r.prototype.createMenu=function(e,n){this.menu=new t(e,"nav","menu").node,this.createMenuList(this.menu,n)},r.prototype.createHeader=function(){var e=localStorage.getItem("userName"),n=new t(this.node,"div","container header__container").node;new o(n,"a","logo-app"),this.createUser(n,e),this.createBurgerMenu(n),this.createMenu(n,e)},r}(t);var p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const f=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.node.href="https://rs.school/js/",o.node.target="_blank",o}return p(e,t),e}(t);var v=["ckachok","k1ndum","valeriakarimova"],w="https://github.com/",m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const y=function(e){function n(t,n,r){var o=e.call(this,t,n,r)||this;return o.createFooter(),o}return m(n,e),n.prototype.createDevInfo=function(e){var n=new t(e,"div","dev-info").node,r=(new t(n,"span","dev-info__year","2022"),new t(n,"div","dev-info__github-icon"),new t(n,"div","dev-info__developers").node);v.forEach((function(e){var n=new t(r,"a","dev-info__developer",e);n.node.href=w+e,n.node.target="_blank"}))},n.prototype.createFooter=function(){this.footerContainer=new t(this.node,"div","container footer__container"),new f(this.footerContainer.node,"a","logo-rsschool"),this.createDevInfo(this.footerContainer.node)},n}(t);var g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const _=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.handleCoverClick(),o}return g(e,t),e.prototype.handleCoverClick=function(){var t=this;this.node.addEventListener("click",(function(){t.node.classList.remove("active"),t.onCover()}))},e}(t);var b=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},k=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},C="https://react-learnwords-example.herokuapp.com",L="/words",S="/users",T="/aggregatedWords",x="Такого пользовательского слова не существует",A=function(){function t(){this.token=localStorage.getItem("authToken"),this.refreshToken=localStorage.getItem("authRefreshToken")}return t.prototype.getWords=function(t,e){return b(this,void 0,void 0,(function(){return k(this,(function(n){switch(n.label){case 0:return[4,fetch(""+C+"/words?group="+t+"&page="+e)];case 1:return[2,n.sent().json()]}}))}))},t.prototype.getWord=function(t){return b(this,void 0,void 0,(function(){return k(this,(function(e){switch(e.label){case 0:return[4,fetch(""+C+"/words/"+t)];case 1:return[2,e.sent().json()]}}))}))},t.prototype.registerNewUser=function(t){return b(this,void 0,void 0,(function(){var e,n,r;return k(this,(function(o){switch(o.label){case 0:return[4,fetch(""+C+S,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return 417!==(e=o.sent()).status?[3,2]:(n={error:"Пользователь с таким адресом электронной почты уже существует"},[3,4]);case 2:return r={},[4,e.json()];case 3:r.success=o.sent(),n=r,o.label=4;case 4:return[2,n]}}))}))},t.prototype.authorizeUser=function(t){return b(this,void 0,void 0,(function(){var e,n;return k(this,(function(r){switch(r.label){case 0:return[4,fetch(C+"/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return 404===(e=r.sent()).status?[2,{error:"Пользователя с таким адресом электронной почты не существует"}]:403===e.status?[2,{error:"Неправильный пароль пользователя"}]:(n={},[4,e.json()]);case 2:return[2,(n.success=r.sent(),n)]}}))}))},t.prototype.getNewUserToken=function(t){return b(this,void 0,void 0,(function(){var e;return k(this,(function(n){switch(n.label){case 0:return[4,fetch(""+C+"/users/"+t+"/tokens",{method:"GET",headers:{Authorization:"Bearer "+this.refreshToken,Accept:"application/json"}})];case 1:return[4,n.sent().json()];case 2:return e=n.sent(),localStorage.setItem("authToken",e.token),localStorage.setItem("authRefreshToken",e.refreshToken),[2]}}))}))},t.prototype.getUser=function(e){return b(this,void 0,void 0,(function(){var n;return k(this,(function(r){switch(r.label){case 0:return[4,fetch(""+C+"/users/"+e,{method:"GET",headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}})];case 1:return 401!==(n=r.sent()).status?[3,4]:[4,this.getNewUserToken(e)];case 2:return r.sent(),[4,(new t).getUser(e)];case 3:r.sent(),r.label=4;case 4:return[2,n.json()]}}))}))},t.prototype.createUserWord=function(e,n,r){return b(this,void 0,void 0,(function(){return k(this,(function(o){switch(o.label){case 0:return[4,fetch(""+C+"/users/"+e+"/words/"+n,{method:"POST",headers:{Authorization:"Bearer "+this.token,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})];case 1:return 401!==o.sent().status?[3,4]:[4,this.getNewUserToken(e)];case 2:return o.sent(),[4,(new t).createUserWord(e,n,r)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},t.prototype.getUserWord=function(e,n){return b(this,void 0,void 0,(function(){var r,o;return k(this,(function(i){switch(i.label){case 0:return[4,fetch(""+C+"/users/"+e+"/words/"+n,{method:"GET",headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}})];case 1:return 401!==(r=i.sent()).status?[3,4]:[4,this.getNewUserToken(e)];case 2:return i.sent(),[4,(new t).getUserWord(e,n)];case 3:i.sent(),i.label=4;case 4:return 404===r.status?[2,{error:x}]:[4,r.json()];case 5:return[2,{success:{difficulty:(o=i.sent()).difficulty,optional:o.optional}}]}}))}))},t.prototype.updateUserWord=function(e,n,r){return b(this,void 0,void 0,(function(){return k(this,(function(o){switch(o.label){case 0:return[4,fetch(""+C+"/users/"+e+"/words/"+n,{method:"PUT",headers:{Authorization:"Bearer "+this.token,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})];case 1:return 401!==o.sent().status?[3,4]:[4,this.getNewUserToken(e)];case 2:return o.sent(),[4,(new t).updateUserWord(e,n,r)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},t.prototype.deleteUserWord=function(e,n){return b(this,void 0,void 0,(function(){return k(this,(function(r){switch(r.label){case 0:return[4,fetch(""+C+"/users/"+e+"/words/"+n,{method:"DELETE",headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}})];case 1:return 401!==r.sent().status?[3,4]:[4,this.getNewUserToken(e)];case 2:return r.sent(),[4,(new t).deleteUserWord(e,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.updateUserWordData=function(t,e){t.difficulty=e.difficulty||t.difficulty,t.optional.isLearned=e.optional.isLearned||t.optional.isLearned,t.optional.isNew=e.optional.isNew||t.optional.isNew},t.prototype.saveUserWord=function(t,e,n){return b(this,void 0,void 0,(function(){var r;return k(this,(function(o){switch(o.label){case 0:return[4,this.getUserWord(t,e)];case 1:return(r=o.sent().success)?(this.updateUserWordData(r,n),[4,this.updateUserWord(t,e,r)]):[3,3];case 2:return o.sent(),[3,5];case 3:return r={difficulty:"easy",optional:{isLearned:!1,isNew:!1}},this.updateUserWordData(r,n),[4,this.createUserWord(t,e,r)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))},t.prototype.getAllUserWords=function(e){return b(this,void 0,void 0,(function(){var n;return k(this,(function(r){switch(r.label){case 0:return[4,fetch(""+C+"/users/"+e+L,{method:"GET",headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}})];case 1:return 401!==(n=r.sent()).status&&402!==n.status?[3,4]:[4,this.getNewUserToken(e)];case 2:return r.sent(),[4,(new t).getAllUserWords(e)];case 3:r.sent(),r.label=4;case 4:return[2,n.json()]}}))}))},t.prototype.getAggregatedWords=function(e,n,r){return b(this,void 0,void 0,(function(){var o,i;return k(this,(function(a){switch(a.label){case 0:return[4,fetch(""+C+"/users/"+e+T+(r?"?wordsPerPage="+r+"&filter="+n:"?filter="+n),{method:"GET",headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}})];case 1:return 401!==(o=a.sent()).status?[3,4]:[4,this.getNewUserToken(e)];case 2:return a.sent(),[4,(new t).getAggregatedWords(e,n,r)];case 3:a.sent(),a.label=4;case 4:return[4,o.json()];case 5:return[2,{set:(i=a.sent())[0].paginatedResults,count:i[0].totalCount[0].count}]}}))}))},t.prototype.getAggregatedWord=function(e,n){return b(this,void 0,void 0,(function(){var r;return k(this,(function(o){switch(o.label){case 0:return[4,fetch(""+C+"/users/"+e+"/aggregatedWords/"+n,{method:"GET",headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}})];case 1:return 401!==(r=o.sent()).status?[3,4]:[4,this.getNewUserToken(e)];case 2:return o.sent(),[4,(new t).getAggregatedWord(e,n)];case 3:o.sent(),o.label=4;case 4:return 404===r.status?[2,{error:x}]:[4,r.json()];case 5:return[2,{success:o.sent()[0]}]}}))}))},t}();const E=A;var O=[{name:"имя пользователя",type:"text",pattern:"^(?=.{3,15}$)[a-zA-ZA-я]+[a-zA-ZA-я]+$",title:"Имя должно содержать от 3 до 15 символов латинского и/или русского алфавита",required:!1},{name:"адрес электронной почты",type:"email",pattern:"([a-z0-9_-]{3,15})@([a-z]{4,}).([a-z]{2,})",title:"Email должен быть вида username@example.com, где: \n    - username - должно содержать от 3 до 15 символов (латинские буквы, цифры, знак подчёркивания, дефис);\n    - example - домен первого уровня состоит минимум из 4 латинских букв;\n    - com - домен верхнего уровня, отделяется от домена первого уровня точкой и состоит минимум из 2 латинских букв.",required:!0},{name:"пароль",type:"password",pattern:"^(?=.{8,16}$)[0-9A-z]+[0-9A-z]+$",title:"Пароль должен содержать от 8 до 16 символов (латинские буквы и/или цифры)",required:!0}],D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},W=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const I=function(n){function r(t,e,r){var o=n.call(this,t,e,r)||this;return o.createAuthorization(),o}return D(r,n),r.prototype.handleAuthSwitchBtnClick=function(){var t=this;this.authSwitchButton.addEventListener("click",(function(){u(t.authSwitchButton,t.authSubmitButton),l(t.regSwitchButton,t.inputUserName.parentElement,t.regSubmitButton,t.message),t.inputUserName.required=!1}))},r.prototype.handleRegSwitchBtnClick=function(){var t=this;this.regSwitchButton.addEventListener("click",(function(){u(t.regSwitchButton,t.inputUserName.parentElement,t.regSubmitButton),l(t.authSwitchButton,t.authSubmitButton,t.message),t.inputUserName.required=!0}))},r.prototype.createAuthorizationControls=function(){var e=new t(this.node,"div","authorization__controls").node;this.authSwitchButton=new t(e,"button","authorization__button active","Авторизация").node,this.regSwitchButton=new t(e,"button","authorization__button","Регистрация").node,this.handleAuthSwitchBtnClick(),this.handleRegSwitchBtnClick()},r.prototype.createFormField=function(e){var n;n=O.map((function(n){var r=new t(e,"div","authorization-form__field active").node,o=(new t(r,"p","authorization-form__field-name",n.name),new t(r,"input","authorization-form__field-input").node);return o.type=n.type,o.pattern=n.pattern,o.title=n.title,o.required=n.required,o})),this.inputUserName=n[0],this.inputEmail=n[1],this.inputPassword=n[2],l(this.inputUserName.parentElement)},r.prototype.getFormFieldValues=function(){var t=[this.inputUserName.value,this.inputEmail.value,this.inputPassword.value];return{name:t[0],email:t[1],password:t[2]}},r.prototype.isInputFieldsValid=function(){var t=this.inputUserName.validity.valid,e=this.inputEmail.validity.valid,n=this.inputPassword.validity.valid;return t&&e&&n},r.prototype.performUserRegistration=function(){return P(this,void 0,void 0,(function(){var t,e;return W(this,(function(n){switch(n.label){case 0:return t=this.getFormFieldValues(),[4,(new E).registerNewUser(t)];case 1:return e=n.sent(),this.message.innerHTML=e.error?e.error:"Пользователь успешно создан, пройдите авторизацию",u(this.message),[2]}}))}))},r.prototype.handleRegSubmitBtnClick=function(){var t=this;this.regSubmitButton.addEventListener("click",(function(e){return P(t,void 0,void 0,(function(){return W(this,(function(t){switch(t.label){case 0:return this.isInputFieldsValid()?(e.preventDefault(),[4,this.performUserRegistration()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},r.prototype.performUserAuthorization=function(){return P(this,void 0,void 0,(function(){var t,n,r;return W(this,(function(o){switch(o.label){case 0:return t=this.getFormFieldValues(),[4,(new E).authorizeUser(t)];case 1:return(n=o.sent()).error?(this.message.innerHTML=n.error,u(this.message)):(r={authToken:n.success.token,authRefreshToken:n.success.token,userName:n.success.name,userId:n.success.userId},i=r,s.forEach((function(t){return localStorage.setItem(t,i[t])})),window.location.hash=window.location.hash===e.home.hash?"#":e.home.hash),[2]}var i}))}))},r.prototype.handleAuthSubmitBtnClick=function(){var t=this;this.authSubmitButton.addEventListener("click",(function(e){return P(t,void 0,void 0,(function(){return W(this,(function(t){switch(t.label){case 0:return this.isInputFieldsValid()?(e.preventDefault(),[4,this.performUserAuthorization()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},r.prototype.createAuthorizationForm=function(){var e=new t(this.node,"form","authorization-form").node;this.createFormField(e),this.authSubmitButton=new t(e,"button","authorization-form__login-button active","Войти").node,this.regSubmitButton=new t(e,"button","authorization-form__register-button","Зарегистрироваться").node,this.message=new t(e,"p","authorization-form__message").node,this.handleAuthSubmitBtnClick(),this.handleRegSubmitBtnClick()},r.prototype.createAuthorization=function(){new t(this.node,"div","authorization__logo"),this.createAuthorizationControls(),this.createAuthorizationForm()},r}(t),N=function(){function e(t,e){this.parentNode=t,this.parentNode.id=e,this.header=new d(this.parentNode,"header","header"),this.createMain(),this.footer=new y(this.parentNode,"footer","footer"),this.cover=new _(this.parentNode,"div","cover"),this.authorization=new I(this.parentNode,"div","authorization"),this.startMenuInteractionCycle(),this.startUserAuthorizationCycle(),this.startCoverInteractionCycle()}return e.prototype.startUserAuthorizationCycle=function(){var t=this;this.header.onAuthButton=function(){return u(t.authorization.node,t.cover.node)}},e.prototype.startMenuInteractionCycle=function(){var t=this;this.header.onBurgerMenu=function(){return t.cover.node.classList.toggle("active")}},e.prototype.startCoverInteractionCycle=function(){var t=this;this.cover.onCover=function(){return l(t.header.menu,t.header.burgerMenu,t.authorization.node)}},e.prototype.startPageRefreshCycle=function(){this.main.destroy(),this.createMain()},e.prototype.createMain=function(){this.main=new t(this.parentNode,"main","main"),new t(this.main.node,"div","container main__container")},e}();var j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const B=function(e){function n(t,n,r,o){var i=e.call(this,t,n,r)||this;return i.createFeatureApp(o),i}return j(n,e),n.prototype.createFeatureApp=function(e){var n=new t(this.node,"div","feature__name").node,r=(new t(n,"span","feature__name-text",e.name),new t(this.node,"div","feature__desc").node);new t(r,"span","feature__desc-text",e.desc)},n}(t),M=[{name:"Описание приложения",desc:"RS Lang – приложение для изучения иностранных слов с методикой интервального повторения,\n           отслеживанием индивидуального прогресса и мини-играми"},{name:"Учебник",desc:"Электронный учебник содержит 3600 часто употребляемых английских слов, разбитых на 6 уровней сложности"},{name:"Игры",desc:"В приложении присутствуют игры - “Аудиовызов” и “Спринт”, помогающие гораздо быстрее усваивать пройденный материал"},{name:"Статистика",desc:"С помощью статистики  пользователи могут следить за своими успехами и оценивать свои результаты"}];var U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const z=function(e){function n(t,n){return e.call(this,t,n)||this}return U(n,e),n.prototype.createAppFeatures=function(t){M.forEach((function(e){new B(t,"div","feature",e)}))},n.prototype.createDecorativeCircles=function(e){new t(e,"div","decorative-circle decorative-circle_small"),new t(e,"div","decorative-circle decorative-circle_big")},n.prototype.createMain=function(){this.main=new t(this.parentNode,"main","main");var e=new t(this.main.node,"div","container main__container home-container").node;this.createAppFeatures(e),this.createDecorativeCircles(e)},n}(N);var H=["Уровень 1","Уровень 2","Уровень 3","Уровень 4","Уровень 5","Уровень 6","Сложные слова"],V={audioCall:{name:"Аудиовызов",hash:"#audio-call/textbook",id:"audio-call-page"},sprint:{name:"Спринт",hash:"#sprint/textbook",id:"sprint-page"}},R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const F=function(e){function n(t,n,r){var o=e.call(this,t,n,r)||this;return o.createTextbookMenu(),o}return R(n,e),n.prototype.handleLevelItemClick=function(t,e){var n=this;t.addEventListener("click",(function(){t!==n.curLevelItem&&(localStorage.setItem("curDifficultyLevel",e.toString()),localStorage.removeItem("curPageNumber"),l(n.curLevelItem),u(t),n.curLevelItem=t,n.onLevelItem())}))},n.prototype.createLevelsNav=function(e){var n=this,r=localStorage.getItem("userName"),o=new t(this.node,"ul","levels-nav");H.forEach((function(i,a){var s=new t(o.node,"li","levels-nav__item",i).node;a===e.curDifficultyLevel&&(u(s),n.curLevelItem=s),r||a!==H.length-1||s.classList.add("hidden"),H.length-1&&s.addEventListener("click",(function(){})),n.handleLevelItemClick(s,a)}))},n.prototype.createGamesNav=function(){var e=new t(this.node,"div","games-nav").node;new t(e,"div","games-nav__icon"),Object.values(V).forEach((function(n){new t(e,"a","games-nav__link",n.name).node.href=n.hash}))},n.prototype.createPagesCounter=function(e){var n=new t(this.node,"div","page-counter").node;this.currPageNumber=new t(n,"div","page-counter__cur",""+e.curPageNumber).node,new t(n,"div","page-counter__divider","/").node,new t(n,"div","page-counter__total",""+e.totalPageCount).node},n.prototype.handleHashChange=function(){window.addEventListener("hashchange",(function(){localStorage.removeItem("curDifficultyLevel"),localStorage.removeItem("curPageNumber")}))},n.prototype.createTextbookMenu=function(){var t=c();this.createLevelsNav(t),this.createGamesNav(),this.createPagesCounter(t),this.handleHashChange()},n}(t);var G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=new Audio;const $=function(e){function n(t,n,r,o){var i=e.call(this,t,n,r)||this;return i.createCard(o),i}return G(n,e),n.prototype.handleCardSoundClick=function(t,e){t.addEventListener("click",(function(){q&&q.pause();var t=[e.audio,e.audioMeaning,e.audioExample];q.src=C+"/"+t[0],q.play();var n=0;q.addEventListener("ended",(function(){++n>=t.length&&q.pause(),q.src=C+"/"+t[n],q.play()}))}))},n.prototype.createCardImage=function(e,n){var r=new t(this.node,"div","word-card__image").node;r.style.backgroundImage="url("+C+"/"+n.image+")";var o=new t(r,"button","word-card__sound").node;this.handleCardSoundClick(o,n);var i=new t(r,"div","word-card__answer-counters").node,a=new t(i,"span","word-card__incorrect-answer",""+(this.countCorrect||0)),s=new t(i,"span","word-card__correct-answer",""+(this.countWrong||0));e&&(a.node.classList.add("visibility"),s.node.classList.add("visibility"))},n.prototype.createWordControlBtns=function(e,n){var r=this,o=new t(this.node,"button","word-card__compound-word").node,i=new t(this.node,"button","word-card__learned-word").node;e&&(o.classList.add("visibility"),i.classList.add("visibility")),o.addEventListener("click",(function(){return t=r,e=void 0,a=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(e){switch(e.label){case 0:return t=localStorage.getItem("userId"),u(o),o.parentElement.classList.add("hard"),[4,(new E).saveUserWord(t,n.id,{difficulty:"hard",optional:{isLearned:!1}})];case 1:return e.sent(),[2]}}))},new((i=void 0)||(i=Promise))((function(n,r){function o(t){try{c(a.next(t))}catch(t){r(t)}}function s(t){try{c(a.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,s)}c((a=a.apply(t,e||[])).next())}));var t,e,i,a})),i.addEventListener("click",(function(){u(i),l(o),i.parentElement.classList.add("learned"),o.style.pointerEvents="none"}))},n.prototype.createWord=function(e){var n=new t(this.node,"div","word-card__word-container").node;new t(n,"div","word-card__word",""+e.word),new t(n,"div","word-card__translation",""+e.wordTranslate),new t(n,"div","word-card__transcription",""+e.transcription)},n.prototype.createDefinition=function(e){var n=new t(this.node,"div","word-card__definition-container").node;new t(n,"div","word-card__text").node.innerHTML=e.textMeaning,new t(n,"div","word-card__text",""+e.textMeaningTranslate)},n.prototype.createExample=function(e){var n=new t(this.node,"div","word-card__example-container").node;new t(n,"div","word-card__text").node.innerHTML=e.textExample,new t(n,"div","word-card__text",""+e.textExampleTranslate)},n.prototype.createCard=function(t){var e=localStorage.getItem("userName");this.createCardImage(e,t),this.createWordControlBtns(e,t),this.createWord(t),this.createDefinition(t),this.createExample(t)},n}(t);var J=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Z=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Q=function(e){function n(t,n){return e.call(this,t,n)||this}return J(n,e),n.prototype.handleNextPageClick=function(t){var e=this;t.addEventListener("click",(function(){var t=c();30===t.curPageNumber&&(t.curPageNumber=0),e.textbookMenu.currPageNumber.innerHTML=(t.curPageNumber++).toString(),localStorage.setItem("curPageNumber",(t.curPageNumber++).toString()),e.startPageRefreshCycle()}))},n.prototype.handlePrevPageClick=function(t){var e=this;t.addEventListener("click",(function(){var t=c();1===t.curPageNumber&&(t.curPageNumber=31),e.textbookMenu.currPageNumber.innerHTML=(t.curPageNumber--).toString(),localStorage.setItem("curPageNumber",(t.curPageNumber--).toString()),e.startPageRefreshCycle()}))},n.prototype.createPageSwitches=function(e){var n=new t(e,"div","textbook__page-switches").node,r=new t(n,"button","textbook__prev-page").node,o=new t(n,"button","textbook__next-page").node;this.handleNextPageClick(o),this.handlePrevPageClick(r)},n.prototype.createCards=function(e){return K(this,void 0,void 0,(function(){var n,r,o,i,a,s=this;return Z(this,(function(u){switch(u.label){case 0:return n=new t(e,"div","textbook__words-container").node,r=c(),o={group:r.curDifficultyLevel,page:r.curPageNumber-1},a=localStorage.getItem("userId"),6===o.group?[3,2]:[4,(new E).getWords(o.group,o.page)];case 1:return i=u.sent(),[3,4];case 2:return[4,(new E).getAggregatedWords(a,'{ "userWord.difficulty":"hard" }',"3600")];case 3:i=u.sent().set,u.label=4;case 4:return i.forEach((function(t){return K(s,void 0,void 0,(function(){return Z(this,(function(e){return new $(n,"div","word-card",t),[2]}))}))})),[2]}}))}))},n.prototype.createMain=function(){var e=this;this.main=new t(this.parentNode,"main","main");var n=new t(this.main.node,"div","container main__container home-container").node;this.textbookMenu=new F(n,"div","textbook__menu"),this.createPageSwitches(n),this.createCards(n),this.header.node.after(this.main.node),this.textbookMenu.onLevelItem=function(){return e.startPageRefreshCycle()},q.pause()},n}(N),X=function(){function e(t,e,n){this.parentNode=t,this.elements=e,this.amount=e.length,this.callback=n}return e.prototype.createListItem=function(e){return new t(this.listContainer.node,"li",e).node},e.prototype.onItemClick=function(t){var e=t.target;if(e.closest("li")){var n=this.itemsArray.indexOf(e),r={index:n,label:this.elements[n],target:t.target};null!==this.callback&&this.callback(r)}},e.prototype.createItems=function(t,e){var n=this;this.itemsArray=[];for(var r=0;r<t;r++)this.itemsArray.push(this.createListItem(e)),this.itemsArray[r].innerHTML=this.elements[r];this.listContainer.node.addEventListener("click",(function(t){return n.onItemClick(t)}))},e.prototype.createContainer=function(e,n){return this.listContainer=new t(this.parentNode,"ul",e),this.createItems(this.amount,n),this.listContainer},e}();var Y=["1","2","3","4","5","6"],tt="Не знаю",et=function(){function t(){}return t.prototype.getData=function(t,e){return n=this,r=void 0,i=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return[4,fetch("https://react-learnwords-example.herokuapp.com/words?$page="+t+"&group="+e)];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))},new((o=void 0)||(o=Promise))((function(t,e){function a(t){try{c(i.next(t))}catch(t){e(t)}}function s(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i},t}();const nt=et;const rt=function(){function t(){this.data=new nt}return t.prototype.generateRandomNumber=function(){return Math.trunc(20*Math.random())},t.prototype.getWordsData=function(t){return e=this,n=void 0,o=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(e){switch(e.label){case 0:return[4,this.data.getData(1,t)];case 1:return[2,e.sent()]}}))},new((r=void 0)||(r=Promise))((function(t,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o},t.prototype.generateAnswers=function(t,e){do{var n=t[this.generateRandomNumber()].wordTranslate;e.includes(n)||e.push(n)}while(e.length<5);return e},t}();var ot=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},at=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const st=function(n){function r(t,e,r){var o=n.call(this,t,e,r)||this;return o.levelWords=new rt,o.addHotKeys(),o.createContainer(),o.levelIndex=0,o.correctWordData=null,o.userAnswersCount={correct:[],wrong:[]},o.difficultyLevel=null,o.gameStarted=!1,o}return ot(r,n),r.prototype.getVariantInfo=function(t){var e=Array.from(document.querySelectorAll(".level-option"));return{index:t,target:e[t],label:e[t].innerText}},r.prototype.addHotKeys=function(){var t=this;document.addEventListener("keydown",(function(e){if(!1===t.gameStarted)switch(e.code){case"Digit1":t.showSelectedLevel(0);break;case"Digit2":t.showSelectedLevel(1);break;case"Digit3":t.showSelectedLevel(2);break;case"Digit4":t.showSelectedLevel(3);break;case"Digit5":t.showSelectedLevel(4);break;case"Digit6":t.showSelectedLevel(5)}else switch(e.code){case"Digit1":t.onVariantClick(t.getVariantInfo(0));break;case"Digit2":t.onVariantClick(t.getVariantInfo(1));break;case"Digit3":t.onVariantClick(t.getVariantInfo(2));break;case"Digit4":t.onVariantClick(t.getVariantInfo(3));break;case"Digit5":t.onVariantClick(t.getVariantInfo(4))}"Space"===e.code&&t.handleSoundButtonClick(t.correctWordData.audio);var n=document.querySelector(".audio-game__button");"Enter"===e.code&&null!==t.correctWordData&&!0===t.gameStarted&&t.handleActionButtonClick(n),"Enter"===e.code&&null!==t.difficultyLevel&&!1===t.gameStarted&&t.handleStartButtonClick()}))},r.prototype.createDescription=function(e){new t(this.gameContainer.node,"p","audio-game__description").node.innerHTML=e},r.prototype.onLevelClick=function(t){t.target.closest("li")&&this.showSelectedLevel(t.index)},r.prototype.showSelectedLevel=function(t){this.difficultyLevel=t,this.levelsList.itemsArray.splice(this.difficultyLevel,1),this.levelsList.itemsArray.forEach((function(t){return t.classList.add("invisible")})),this.generateWordsOptions(this.difficultyLevel)},r.prototype.handleUserClick=function(t){var e=t.target,n={meaning:"<strong>"+this.correctWordData.word+"</strong> - "+this.correctWordData.wordTranslate,audio:this.correctWordData.audio};t.label===this.correctWordData.wordTranslate?(e.classList.add("correct-answer"),this.userAnswersCount.correct.push(n)):(e.classList.add("wrong-answer"),this.userAnswersCount.wrong.push(n))},r.prototype.createAnswerImageText=function(e){var n=this,r=new t(this.gameContainer.node,"div","audio-game__answer-image-text").node;new t(r,"span","audio-game__audio-icon").node.addEventListener("click",(function(){return n.handleSoundButtonClick(n.correctWordData.audio)})),new t(r,"span","audio-game__answer-image-transcription").node.innerHTML=this.correctWordData.word+" "+this.correctWordData.transcription,e.after(r)},r.prototype.showCorrectAnswer=function(){var e=document.querySelector(".audio-game__sound-button"),n=new t(this.gameContainer.node,"div","audio-game__answer-image").node;n.style.backgroundImage="url(https://react-learnwords-example.herokuapp.com/"+this.correctWordData.image+")",e.replaceWith(n),this.createAnswerImageText(n),document.querySelector(".audio-game__button").innerHTML="Дальше"},r.prototype.onVariantClick=function(t){this.handleUserClick(t),this.showCorrectAnswer()},r.prototype.handleSkipButtonClick=function(){var t=this,e={meaning:"<strong>"+this.correctWordData.word+"</strong> - "+this.correctWordData.wordTranslate,audio:this.correctWordData.audio};Array.from(document.querySelectorAll(".level-option")).forEach((function(e){e.innerHTML===t.correctWordData.wordTranslate&&e.classList.add("correct-answer")})),this.userAnswersCount.wrong.push(e),this.showCorrectAnswer()},r.prototype.createWrongResultsList=function(e){var n=this;this.createTitle(e,"Heправильные ответы","h6","audio-game__results__wrong-name");var r=[];this.userAnswersCount.wrong.forEach((function(t){r.push(t.meaning)})),new t(e,"span","wrong-answer__count").node.innerText=String(r.length),new X(e,r,(function(t){return n.handleSoundButtonClick(n.userAnswersCount.wrong[t.index].audio)})).createContainer("audio-game__results__wrong","result-word")},r.prototype.createTitle=function(e,n,r,o){new t(e,r,o).node.innerHTML=n},r.prototype.createCorrectResultsList=function(e){var n=this,r=[];this.userAnswersCount.correct.forEach((function(t){r.push(t.meaning)})),this.createTitle(e,"Правильные ответы","h6","audio-game__results__correct-name"),new t(e,"span","correct-answer__count").node.innerText=String(r.length),new X(e,r,(function(t){return n.handleSoundButtonClick(n.userAnswersCount.correct[t.index].audio)})).createContainer("audio-game__results__correct","result-word")},r.prototype.handlePlayAgainButtonClick=function(){this.gameContainer.destroy(),this.levelIndex=0,this.correctWordData=null,this.userAnswersCount={correct:[],wrong:[]},this.difficultyLevel=null,this.gameStarted=!1,this.createContainer()},r.prototype.showResults=function(){var n=this;this.gameContainer.destroy(),this.gameContainer=new t(this.node,"div","audio-game__results"),this.createTitle(this.gameContainer.node,"Аудиовызов","h4","audio-game__level-name");var r=new t(this.gameContainer.node,"div","audio-game__results-container").node;this.createTitle(r,"Результаты","h5","audio-game__results-name"),this.createWrongResultsList(r),this.createCorrectResultsList(r),new t(r,"button","audio-game__button","Сыграть ещё").node.addEventListener("click",(function(){return n.handlePlayAgainButtonClick()})),new t(r,"button","audio-game__button","Учебник").node.addEventListener("click",(function(){window.location.href=e.textbook.hash}))},r.prototype.generateWordsOptions=function(t){return it(this,void 0,void 0,(function(){var e,n;return at(this,(function(r){switch(r.label){case 0:return e=this,[4,this.levelWords.getWordsData(t)];case 1:return e.wordsData=r.sent(),this.correctWordData=this.wordsData[this.levelIndex],(n=[]).push(this.correctWordData.wordTranslate),this.answers=this.levelWords.generateAnswers(this.wordsData,n),this.levelIndex+=1,[2]}}))}))},r.prototype.handleActionButtonClick=function(t){return it(this,void 0,void 0,(function(){return at(this,(function(e){switch(e.label){case 0:return t.innerHTML!==tt?[3,1]:(this.handleSkipButtonClick(),[3,4]);case 1:return 20!==this.levelIndex?[3,2]:(this.showResults(),[3,4]);case 2:return[4,this.generateWordsOptions(this.difficultyLevel)];case 3:e.sent(),this.handleStartButtonClick(),e.label=4;case 4:return[2]}}))}))},r.prototype.handleSoundButtonClick=function(t){new Audio("https://react-learnwords-example.herokuapp.com/"+t).play()},r.prototype.handleStartButtonClick=function(){var e=this;this.gameContainer.destroy(),this.gameContainer=new t(this.node,"div","audio-game__level"),this.createTitle(this.gameContainer.node,"Аудиовызов","h4","audio-game__level-name"),new t(this.gameContainer.node,"button","audio-game__sound-button").node.addEventListener("click",(function(){return e.handleSoundButtonClick(e.correctWordData.audio)})),new X(this.gameContainer.node,this.answers.sort(),(function(t){return e.onVariantClick(t)})).createContainer("audio-game__level-options","level-option");var n=new t(this.gameContainer.node,"button","audio-game__button",tt).node;n.addEventListener("click",(function(){return e.handleActionButtonClick(n)})),this.gameStarted=!0,setTimeout((function(){return e.handleSoundButtonClick(e.correctWordData.audio)}),100)},r.prototype.createContainer=function(){var e=this;this.gameContainer=new t(this.node,"div","audio-game"),this.createTitle(this.gameContainer.node,"Аудиовызов","h1","audio-game__name"),this.createDescription("Данная игра поможет улучшить ваше восприятие речи на слух"),new t(this.gameContainer.node,"span","audio-game__choice").node.innerHTML="Выберите уровень сложности",this.levelsList=new X(this.gameContainer.node,Y,(function(t){return e.onLevelClick(t)})),this.levelsList.createContainer("audio-game__level-choice","audio-game__level-button"),new t(this.gameContainer.node,"button","audio-game__start","Начать").node.addEventListener("click",(function(){null!==e.difficultyLevel&&e.handleStartButtonClick()}))},r}(t);var ct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ut=function(e){function n(t,n){return e.call(this,t,n)||this}return ct(n,e),n.prototype.createMain=function(){var e=new t(this.parentNode,"main","main"),n=new t(e.node,"div","container main__container home-container").node;new st(n,"div","audio-game__wrapper")},n}(N);var lt=function(){function t(){}return t.prototype.getData=function(t,e){return n=this,r=void 0,i=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return[4,fetch("https://react-learnwords-example.herokuapp.com/words?page="+t+"&group="+e)];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))},new((o=void 0)||(o=Promise))((function(t,e){function a(t){try{c(i.next(t))}catch(t){e(t)}}function s(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i},t}();const ht=lt;var dt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},pt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ft=function(){function e(t,e,n){this.container=t,this.data=e,this.levelIndex=0,this.randomTranslation=this.generateRandomTranslation(),this.correctWordData=this.data[this.levelIndex],this.word=null,this.wordTranslation=null,this.onTimerFinished=n,this.userAnswersCount={correct:[],wrong:[]},this.timer=30,this.points=10,this.score=0,this.correctSequence=0,this.scoreAmount=null,this.pointsAmount=null}return e.prototype.updateScore=function(){3===this.correctSequence&&(this.points*=2,this.correctSequence=0),this.score+=this.points,this.correctSequence+=1},e.prototype.colorCircles=function(){var t=this,e=Array.from(document.querySelectorAll(".pagination-circle"));e.forEach((function(n){e.indexOf(n)<t.correctSequence?n.classList.add("correct-answer"):n.classList.remove("correct-answer")}))},e.prototype.generateWordsOptions=function(t,e){return dt(this,void 0,void 0,(function(){var n,r;return pt(this,(function(o){switch(o.label){case 0:return n=new ht,r=this,[4,n.getData(t,e)];case 1:return r.data=o.sent(),this.correctWordData=this.data[this.levelIndex],[2,this.data]}}))}))},e.prototype.generateRandomTranslation=function(){var t=Math.trunc(2*Math.random()),e=Math.trunc(20*Math.random());return this.correctWordData=this.data[this.levelIndex],1===t?this.correctWordData.wordTranslate:this.data[e].wordTranslate},e.prototype.updateRoundInfo=function(){this.correctWordData=this.data[this.levelIndex],this.word.innerHTML=this.correctWordData.word,this.randomTranslation=this.generateRandomTranslation(),this.wordTranslation.innerHTML=this.randomTranslation,this.scoreAmount.innerHTML=String(this.score),this.pointsAmount.innerHTML="+"+this.points+" очков за слово"},e.prototype.handleUserClick=function(t,e){return dt(this,void 0,void 0,(function(){var n;return pt(this,(function(r){return this.levelIndex+=1,n={meaning:"<strong>"+this.correctWordData.word+"</strong> - "+this.correctWordData.wordTranslate,audio:this.correctWordData.audio},"верно"===e&&this.correctWordData.wordTranslate===t||"неверно"===e&&this.correctWordData.wordTranslate!==t?(this.updateScore(),this.userAnswersCount.correct.push(n)):(this.userAnswersCount.wrong.push(n),this.correctSequence=0,this.points=10),this.colorCircles(),this.updateRoundInfo(),[2]}))}))},e.prototype.createAnswers=function(){this.word=this.createTextLine(this.container,this.correctWordData.word,"span","round-word"),this.wordTranslation=this.createTextLine(this.container,this.randomTranslation,"span","round-word-translation")},e.prototype.createTimer=function(){var e=this,n=new t(this.container,"div","timer-container").node,r=new t(n,"span","timer-count").node;this.gameTimer&&clearInterval(this.gameTimer),r.innerHTML=String(this.timer),this.gameTimer=setInterval((function(){r.innerHTML=String(e.timer-=1),0===e.timer&&(e.onTimerFinished(e.userAnswersCount),e.gameTimer&&clearInterval(e.gameTimer))}),1e3)},e.prototype.createScoreContainer=function(){var e=new t(this.container,"div","score-container").node;this.scoreAmount=this.createTextLine(e,String(this.score),"span","score-amount");var n=new t(e,"div","pagination").node;this.createTextLine(n,"","span","pagination-circle"),this.createTextLine(n,"","span","pagination-circle"),this.createTextLine(n,"","span","pagination-circle"),this.pointsAmount=this.createTextLine(e,"+"+this.points+" очков за слово","span","points-amount")},e.prototype.createTextLine=function(e,n,r,o){var i=new t(e,r,o).node;return i.innerHTML=n,i},e}();const vt=ft;const wt=function(){function e(t,e,n){this.parentNode=t,this.elements=e,this.amount=e.length,this.callback=n}return e.prototype.createListItem=function(e){return new t(this.listContainer.node,"li",e).node},e.prototype.onItemClick=function(t){var e=t.target;if(e.closest("li")){var n=this.itemsArray.indexOf(e),r={index:n,label:this.elements[n],target:t.target};null!==this.callback&&this.callback(r)}},e.prototype.createItems=function(t,e){var n=this;this.itemsArray=[];for(var r=0;r<t;r++)this.itemsArray.push(this.createListItem(e)),this.itemsArray[r].innerHTML=this.elements[r];this.listContainer.node.addEventListener("click",(function(t){return n.onItemClick(t)}))},e.prototype.createContainer=function(e,n){return this.listContainer=new t(this.parentNode,"ul",e),this.createItems(this.amount,n),this.listContainer},e}();var mt=["1","2","3","4","5","6"],yt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(e){function n(t,n,r){var o=e.call(this,t,n,r)||this;return o.createContainer(),o.addHotKeys(),o.correctWordData=null,o.difficultyLevel=null,o.gameStarted=!1,o.page=null,o}return yt(n,e),n.prototype.addHotKeys=function(){var t=this;document.addEventListener("keydown",(function(e){switch(e.code){case"Digit1":t.showSelectedLevel(0);break;case"Digit2":t.showSelectedLevel(1);break;case"Digit3":t.showSelectedLevel(2);break;case"Digit4":t.showSelectedLevel(3);break;case"Digit5":t.showSelectedLevel(4);break;case"Digit6":t.showSelectedLevel(5)}"ArrowRight"===e.code&&t.gameView.handleUserClick(t.gameView.randomTranslation,"верно"),"ArrowLeft"===e.code&&t.gameView.handleUserClick(t.gameView.randomTranslation,"неверно"),"Enter"===e.code&&null!==t.difficultyLevel&&!1===t.gameStarted&&t.handleButtonClick()}))},n.prototype.generateWordsOptions=function(t,e){return n=this,r=void 0,i=function(){var n,r;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(o){switch(o.label){case 0:return n=new ht,r=this,[4,n.getData(t,e)];case 1:return r.wordsData=o.sent(),this.correctWordData=this.wordsData[this.levelIndex],[2,this.wordsData]}}))},new((o=void 0)||(o=Promise))((function(t,e){function a(t){try{c(i.next(t))}catch(t){e(t)}}function s(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i},n.prototype.showSelectedLevel=function(t){this.page=Math.trunc(30*Math.random()),this.difficultyLevel=t;var e=this.levelsList.itemsArray[this.difficultyLevel];this.levelsList.itemsArray.splice(this.difficultyLevel,1),e.classList.add("active-level"),this.levelsList.itemsArray.forEach((function(t){return t.classList.add("invisible-level")})),this.generateWordsOptions(this.page,this.difficultyLevel)},n.prototype.onLevelClick=function(t){t.target.closest("li")&&this.showSelectedLevel(t.index)},n.prototype.createTextLine=function(e,n,r,o){new t(e,r,o).node.innerHTML=n},n.prototype.onSoundButtonClick=function(t){new Audio("https://react-learnwords-example.herokuapp.com/"+t).play()},n.prototype.createWrongResultsList=function(e,n){var r=this;this.createTextLine(e,"Heправильные ответы","h6","sprint-game__results__wrong-name");var o=[];n.wrong.forEach((function(t){o.push(t.meaning)})),new t(e,"span","wrong-answer__count").node.innerText=String(o.length),new wt(e,o,(function(t){return r.onSoundButtonClick(n.wrong[t.index].audio)})).createContainer("sprint-game__results__wrong","result-word")},n.prototype.createCorrectResultsList=function(e,n){var r=this;this.createTextLine(e,"Правильные ответы","h6","sprint-game__results__correct-name");var o=[];n.correct.forEach((function(t){o.push(t.meaning)})),new t(e,"span","correct-answer__count").node.innerText=String(o.length),new wt(e,o,(function(t){return r.onSoundButtonClick(n.correct[t.index].audio)})).createContainer("sprint-game__results__correct","result-word")},n.prototype.onPlayAgainButtonClick=function(){this.gameContainer.destroy(),this.correctWordData=null,this.difficultyLevel=null,this.gameStarted=!1,this.createContainer()},n.prototype.showResults=function(e){var n=this;this.gameContainer.destroy(),this.gameContainer=new t(this.node,"div","sprint-game__results"),this.createTextLine(this.gameContainer.node,"Спринт","h4","sprint-game__level-name");var r=new t(this.gameContainer.node,"div","sprint-game__results-container").node;this.createTextLine(r,"Результаты","h5","sprint-game__results-name"),this.createTextLine(r,"Набрано "+this.gameView.score+" очков","h5","game-total"),this.createWrongResultsList(r,e),this.createCorrectResultsList(r,e);var o=new t(r,"div","buttons-container").node;new t(o,"button","sprint-game__button","Сыграть ещё").node.addEventListener("click",(function(){return n.onPlayAgainButtonClick()})),new t(o,"button","sprint-game__button","Учебник").node.addEventListener("click",(function(){window.location.href="#textbook"}))},n.prototype.handleButtonClick=function(){var e=this;if(this.gameStarted)this.gameView.updateRoundInfo();else{this.gameContainer.destroy(),this.gameContainer=new t(this.node,"div","sprint-game__level"),this.createTextLine(this.gameContainer.node,"Спринт","h4","sprint-game__level-name"),this.gameView=new vt(this.gameContainer.node,this.wordsData,(function(){return e.showResults(e.gameView.userAnswersCount)})),this.gameView.createScoreContainer(),this.gameView.createTimer(),this.gameView.createAnswers();var n=new t(this.gameContainer.node,"div","buttons-container"),r=new t(n.node,"button","sprint-game__button wrong-answer","неверно").node;r.addEventListener("click",(function(){return e.gameView.handleUserClick(e.gameView.randomTranslation,r.innerHTML)}));var o=new t(n.node,"button","sprint-game__button  correct-answer","верно").node;o.addEventListener("click",(function(){return e.gameView.handleUserClick(e.gameView.randomTranslation,o.innerHTML)})),this.gameStarted=!0}},n.prototype.createContainer=function(){var e=this;this.gameContainer=new t(this.node,"div","sprint-game"),this.createTextLine(this.gameContainer.node,"Спринт","h1","game__name"),this.createTextLine(this.gameContainer.node,"Данная игра тренирует навык быстрого перевода","p","sprint-game__description"),new t(this.gameContainer.node,"span","sprint-game__choice").node.innerHTML="Выберите уровень сложности",this.levelsList=new wt(this.gameContainer.node,mt,(function(t){return e.onLevelClick(t)})),this.levelsList.createContainer("sprint-game__level-choice","sprint-game__level-button"),new t(this.gameContainer.node,"button","sprint-game__start","Начать").node.addEventListener("click",(function(){null!==e.difficultyLevel&&e.handleButtonClick()}))},n}(t);const _t=gt;var bt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const kt=function(e){function n(t,n){return e.call(this,t,n)||this}return bt(n,e),n.prototype.createMain=function(){var e=new t(this.parentNode,"main","main"),n=new t(e.node,"div","container main__container home-container").node;new _t(n,"div","game__wrapper")},n}(N);var Ct=["количество новых слов: 0","правильных ответов: 0%","количество изученных слов: 0"],Lt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const St=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.toggleNav=!1,r}return Lt(n,e),n.prototype.createTitle=function(e){new t(e,"div","statistics__title","Статистика")},n.prototype.createNav=function(e){var n=this,r=new t(e,"div","statistics__nav").node,o=new t(r,"div","statistics__nav-link active","Краткосрочная"),i=new t(r,"div","statistics__nav-link","Долгосрочная");i.node.addEventListener("click",(function(){n.toggleNav||(n.shortStatsWrapper.destroy(),n.createSubtitle(e,"Ошибка, недостаточно данных для графиков"),u(i.node),l(o.node),n.toggleNav=!0)})),o.node.addEventListener("click",(function(){n.startPageRefreshCycle(),n.toggleNav&&(u(o.node),l(i.node),n.toggleNav=!1)}))},n.prototype.createSubtitle=function(e,n){new t(e,"div","statistics__subtitle",""+n)},n.prototype.createCard=function(e,n){var r=new t(e,"div","statistics__item").node;new t(r,"div","statistics__name",""+n),Ct.forEach((function(e){var n=new t(r,"div","statistics__item-point").node;new t(n,"div","statistics__item-icon"),new t(n,"div","statistics__item-text",""+e)}))},n.prototype.createaStatGame=function(e){var n=new t(e,"div","statistics__by-game").node;this.createCard(n,"Аудиовызов"),this.createCard(n,"Спринт")},n.prototype.createStatWords=function(e){var n=new t(e,"div","statistics__by-words").node;this.createCard(n,"")},n.prototype.createShortStats=function(e){this.shortStatsWrapper=new t(e,"div","scroll"),this.createSubtitle(this.shortStatsWrapper.node,"По мини-играм за день"),this.createaStatGame(this.shortStatsWrapper.node),this.createSubtitle(this.shortStatsWrapper.node,"По словам за день"),this.createStatWords(this.shortStatsWrapper.node)},n.prototype.createMain=function(){this.main=new t(this.parentNode,"main","main");var e=new t(this.main.node,"div","container main__container home-container").node;this.createTitle(e),this.createNav(e),this.createShortStats(e),this.header.node.after(this.main.node)},n}(N),Tt=[{name:"Сергей Гуль",githubName:"ckachok",role:"Лидер команды",contribution:"<b>Вклад в проект:</b> Разработал дизайн и архитектуру приложения. Координировал работу команды.\n                   Создал и настроил навигацию по страницам приложения, а также авторизацию и регистрацию пользователей.\n                   Занимался разработкой следующих страниц - “Главная”, “О команде”.\n                   Принял участие в разработке страницы “Электронного учебника”."},{name:"Валерия Каримова",githubName:"valeriakarimova",role:"Разработчик",contribution:"<b>Вклад в проект:</b> Сверстала страницы - “Главная”, “Аудиовызов”, “Спринт”.\n                   Занималась полной разработкой логики и функциональности мини-игр приложения - “Аудиовызов” и “Спринт”.\n                   Продумала возможность двусторонней связи мини-игр с электронным учебником."},{name:"Петров Александр",githubName:"k1ndum",role:"Разработчик",contribution:"<b>Вклад в проект:</b> Сверстал страницы - “Электронный учебник” и “Статистика”.\n                   Создал и настроил функциональность основных компонентов учебника.\n                   Продумал возможность двусторонней связи учебника с мини-играми.\n                   Реализовал компоненты страницы “Статистика”."}];var xt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const At=function(e){function n(t,n,r,o){var i=e.call(this,t,n,r)||this;return i.createDeveloper(o),i}return xt(n,e),n.prototype.createDevName=function(e){var n=new t(this.devInfo,"a","developer__name",e.name);n.node.href=w+e.githubName,n.node.target="_blank"},n.prototype.createDevContribution=function(e){new t(this.devInfo,"p","developer__contribution").node.innerHTML=e.contribution},n.prototype.createDeveloperInfo=function(e){this.devInfo=new t(this.node,"div","developer__info").node,this.createDevName(e),new t(this.devInfo,"p","developer__role",e.role),this.createDevContribution(e)},n.prototype.createDeveloper=function(e){this.createDeveloperInfo(e);var n=new t(this.node,"div","developer__photo").node;e.name===Tt[1].name&&this.node.insertBefore(n,this.devInfo)},n}(t);var Et=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ot=function(n){function r(t,e){return n.call(this,t,e)||this}return Et(r,n),r.prototype.createDevelopers=function(t){Tt.forEach((function(e){new At(t,"div","developer",e)}))},r.prototype.createMain=function(){this.main=new t(this.parentNode,"main","main");var n=new t(this.main.node,"div","container main__container about-team__container").node;new t(n,"h2","about-team__title",e.aboutTeam.name),this.createDevelopers(n)},r}(N);var Dt=new(function(){function t(){this.container=document.body}return t.prototype.router=function(){this.container.innerHTML&&(this.container.innerHTML="");var t=[{hash:e.home.hash,id:e.home.id,View:z},{hash:e.textbook.hash,id:e.textbook.id,View:Q},{hash:e.audioCall.hash,id:e.audioCall.id,View:ut},{hash:e.sprint.hash,id:e.sprint.id,View:kt},{hash:e.statistics.hash,id:e.statistics.id,View:St},{hash:e.aboutTeam.hash,id:e.aboutTeam.id,View:Ot}],n=t[0],r=t.find((function(t){return window.location.hash.includes(t.hash)}))||n;new r.View(this.container,r.id)},t}());document.addEventListener("DOMContentLoaded",(function(){Dt.router()})),window.addEventListener("hashchange",(function(){q.pause(),Dt.router()}))})();
//# sourceMappingURL=index.js.map